<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <meta name="keywords" content="关键词">
        <meta name="description" content="描述">
        <meta name="author" content="蓝涩">
        <style>
            body{font-family: "Microsoft YaHei",serif;}
            body,dl,dd,p,h1,h2,h3,h4,h5,h6{margin:0;}
            ol,ul,li{margin:0;padding:0;list-style:none;}
            img{border:none;}
            #wrap{
                position: relative;
                width: 400px;
                height: 500px;
                margin: 50px auto;
                border: 1px solid #bbb;
                overflow: hidden;
                user-select: none;
            }
            #wrap .content{
                position: absolute;
                top: 0;
                left: 0;
                padding-right: 30px;
            }
            #wrap .content li{
                width: 100%;
                margin-bottom: 5px;
                background-color: #bbb;
                text-indent: 2em;
            }
            #wrap .scroll{
                position: absolute;
                top: 0;
                right: 0;
                width: 15px;
                height: 100%;
                background-color: #bbb;
            }
            #wrap .scroll .bar{
                position: absolute;
                top: 0;
                right: 0;
                width: 100%;
                height: 70px;
                background-color: #000;
            }
        </style>
    </head>
    <body>
        <div id="wrap">
            <ul class="content">
                <li>
                    <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                    <span>生命就像一盒巧克力，结果往往出人意料。</span>
                </li>
                <li>
                    <p>2、Stupid is as stupid does.</p>
                    <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
                </li>
                <li>
                    <p>3、Miracles happen every day.</p>
                    <span>奇迹每天都在发生。</span>
                </li>
                <li>
                    <p>4、it made me look like a duck in water.</p>
                    <span>它让我如鱼得水。</span>
                </li>
                <li>
                    <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                    <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
                </li>
                <li>
                    <p>6、Death is just a part of life, something we're all destined to do.</p>
                    <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
                </li>
                <li>
                    <p>7、You have got to put the past behind you before you can move on.</p>
                    <span>放下包袱，继续前进。</span>
                </li>
                <li>
                    <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                    <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
                </li>
                <li>
                    <p>9、If there is anything you need, I will not be far away.</p>
                    <span>只要你需要，我就在这里。</span>
                </li>
                <li>
                    <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                    <span>生命就像一盒巧克力，结果往往出人意料。</span>
                </li>
                <li>
                    <p>2、Stupid is as stupid does.</p>
                    <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
                </li>
                <li>
                    <p>3、Miracles happen every day.</p>
                    <span>奇迹每天都在发生。</span>
                </li>
                <li>
                    <p>4、it made me look like a duck in water.</p>
                    <span>它让我如鱼得水。</span>
                </li>
                <li>
                    <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                    <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
                </li>
                <li>
                    <p>6、Death is just a part of life, something we're all destined to do.</p>
                    <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
                </li>
                <li>
                    <p>7、You have got to put the past behind you before you can move on.</p>
                    <span>放下包袱，继续前进。</span>
                </li>
                <li>
                    <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                    <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
                </li>
                <li>
                    <p>9、If there is anything you need, I will not be far away.</p>
                    <span>只要你需要，我就在这里。</span>
                </li>
                <li>
                    <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                    <span>生命就像一盒巧克力，结果往往出人意料。</span>
                </li>
                <li>
                    <p>2、Stupid is as stupid does.</p>
                    <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
                </li>
                <li>
                    <p>3、Miracles happen every day.</p>
                    <span>奇迹每天都在发生。</span>
                </li>
                <li>
                    <p>4、it made me look like a duck in water.</p>
                    <span>它让我如鱼得水。</span>
                </li>
                <li>
                    <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                    <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
                </li>
                <li>
                    <p>6、Death is just a part of life, something we're all destined to do.</p>
                    <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
                </li>
                <li>
                    <p>7、You have got to put the past behind you before you can move on.</p>
                    <span>放下包袱，继续前进。</span>
                </li>
                <li>
                    <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                    <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
                </li>
                <li>
                    <p>9、If there is anything you need, I will not be far away.</p>
                    <span>只要你需要，我就在这里。</span>
                </li>
                <li>
                    <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                    <span>生命就像一盒巧克力，结果往往出人意料。</span>
                </li>
                <li>
                    <p>2、Stupid is as stupid does.</p>
                    <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
                </li>
                <li>
                    <p>3、Miracles happen every day.</p>
                    <span>奇迹每天都在发生。</span>
                </li>
                <li>
                    <p>4、it made me look like a duck in water.</p>
                    <span>它让我如鱼得水。</span>
                </li>
                <li>
                    <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                    <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
                </li>
                <li>
                    <p>6、Death is just a part of life, something we're all destined to do.</p>
                    <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
                </li>
                <li>
                    <p>7、You have got to put the past behind you before you can move on.</p>
                    <span>放下包袱，继续前进。</span>
                </li>
                <li>
                    <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                    <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
                </li>
                <li>
                    <p>9、If there is anything you need, I will not be far away.</p>
                    <span>只要你需要，我就在这里。</span>
                </li>
            </ul>
            <div class="scroll">
                <div class="bar"></div>
            </div>
        </div>

        <script>

            (function(){
                let bar = document.querySelector('#wrap .scroll .bar'),
                    ow = document.getElementById('wrap'),
                    oScroll = document.querySelector("#wrap .scroll"),
                    con = document.querySelector('#wrap .content'),
                    wrapH = oScroll.offsetHeight;
                let sTop,msY;
                //鼠标按下
                bar.addEventListener('mousedown',mDown);
                //滚动条的高度
                (function(){
                    let height = wrapH*wrapH/con.offsetHeight;
                    bar.style.height = height+'px';
                })();
                //当内容较少时滚动条的隐藏
                if((wrapH/con.offsetHeight) >=1 ){
                    oScroll.style.display = 'none';
                    return;
                }
                let barMax =  wrapH - bar.offsetHeight;
                function mDown(ev){
                    sTop = bar.offsetTop,
                    msY = ev.clientY;
                    //鼠标移动时
                    document.addEventListener('mousemove',mMove);
                }
                function mMove(ev){
                    let y_ = ev.clientY- msY;
                    let top = y_+sTop;
                    fn(top);
                }
                //鼠标松开时
                document.addEventListener('mouseup',mUp);
                function mUp(){
                    document.removeEventListener('mousemove',mMove);
                }
                //求top的函数
                function fn(top) {
                    top = Math.max(0,top);
                    top = Math.min(barMax,top);
                    let cTop = top*(con.offsetHeight-wrapH)/barMax;
                    bar.style.top = top+'px';
                    con.style.top = -cTop+'px';
                }
                //添加滚轮事件
                ow.addEventListener('mousewheel',change);
                function change(ev){
                    //向上为正,向下为负
                    let d = ev.wheelDelta/120;
                    fn( bar.offsetTop - d*(10*barMax/con.offsetHeight ));

                    ev.preventDefault();
                }

            })();
        </script>
    </body>
</html>














